<template name="wordDetailModal">
	<div class="modal fade" id="word-detail">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					<h4 class="modal-title">{{Word.target}} {{> favoriteButton _id=Word._id}}</h4>
				</div>
				{{#autoForm type="update" collection="Words" doc=Word}}
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							{{> wordDetailStats}}
						</div>
						<div class="col-md-6">
							{{> wordDetailForm}}
						</div>
					</div>
				</div>
				{{/autoForm}}
				<div class="modal-footer">
					<div class="pull-left">
						<a class="btn btn-danger" id="word-detail-delete" doc="{{Word._id}}" >Delete</a>
					</div>
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary" id="word-detail-submit-dummy">Save changes</button>
				</div>
			</div>
		</div>
	</div>
</template>

<template name="wordDetailForm">
		{{> afQuickField name="target"}}
		{{#if Language.transliteration}}
			{{> afQuickField name="transliteration"}}
		{{/if}}
		{{> afQuickField name="source"}}
		{{> afQuickField name="notes"}}
		<button style="display:none;" class="btn btn-primary" id="word-detail-submit" type="submit">Save</button>
</template>

<template name="wordDetailStats">
	{{#if $.Session.get 'Answers'}}
	<div class="row text-center">
		<div class="col-md-4">
			<h4>{{lengthOfSession 'Answers_String'}}</h4>
			<span>Correct</span>
		</div>
		<div class="col-md-4">
			<h4>{{lengthOfSession 'Answers_Multiple'}}</h4>
			<span>Multiple Choice</span>
		</div>
		<div class="col-md-4">
			<h4>{{lengthOfSession 'Answers_Multiple'}}</h4>
			<span>Incorrect</span>
		</div>
	</div>
<!-- 		<table class="table table-hover">
			<tbody>
				{{#each $.Session.get 'Answers'}}
				<tr>
					<td>{{status}}</td>
					<td>{{ago createdAt}}</td>
				</tr>
				{{/each}}
			</tbody>
		</table> -->
	{{else}}
	<small class="text-center">This word hasn't come up in a test yet</small>
	{{/if}}
</template>